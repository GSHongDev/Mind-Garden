# 目录

1. 引言

   1.1 研究背景 【思路：从企业级 Web 应用快速开发需求切入，介绍若依 “快速开发平台” 定位优势，引出流媒体功能集成的行业必要性】

   1.2 研究意义 【思路：突出 “若依生态深度定制” 创新路径，而非简单使用 WVP，体现通用系统到垂直领域方案的蜕变价值】

   1.3 研究现状 【思路：对比若依框架标准功能与 WVP/ZLMediaKit 等流媒体平台特性，指出若依上构建流媒体能力的技术空白】

   1.4 论文结构与研究方法 【思路：在“技术整合 + 二次开发”的总路线下，明确需求调研、系统建模、实验验证、性能评估、用户访谈等具体研究方法，并标注其在第 2-8 章中的落地位置，形成可追溯的研究闭环】
2. 相关技术综述

   2.1 核心框架技术栈 【思路：重点解析若依权限体系 / 模块化设计、WVP-PRO 核心组件，为后续整合做技术铺垫】

   2.2 关键支撑技术 【思路：梳理 Spring Boot/Vue/GB28181 等技术，说明其在 “若依 + WVP” 整合中的作用】

   2.3 技术选型对比分析 【思路：制作“若依原生能力 vs WVP vs 其他流媒体方案”的定量对比表，结合 ZLMediaKit vs FFmpeg、Docker vs 传统部署等案例，引用官方/论文资料说明指标来源，突出本项目选型的创新性与可行性】
3. 系统需求分析

   3.1 编写目的与范围 【思路：明确需求分析聚焦 “若依原生功能复用 + WVP 流媒体扩展” 的边界】

   3.2 可行性分析 【思路：技术可行性验证若依与 WVP 兼容性，经济可行性突出开源方案成本优势】

   3.3 功能需求分析 【思路：绘制系统用例图、业务流程图，显式区分若依原生模块（用户 / 权限 / 日志）与新增流媒体模块（设备 / 流管理），补充关键场景描述、数据输入输出与前置条件，说明原生模块的基础支撑作用】

   3.4 非功能需求分析 【思路：继承若依已有安全性（XSS、防护拦截、权限控制）与可维护性（模块化），并量化可用性、性能、可扩展性指标（如 RTMP 延迟≤x ms、并发设备≥y），说明验证方法和评估工具】
4. 系统总体设计

   4.1 总体结构设计 【思路：绘制 “若依原生层 - 媒体服务集成层 - 功能扩展层” 三层架构图，补充组件职责说明、关键数据流与接口方向，清晰区分复用与新增部分，是展示工作量与技术路线的关键】

   4.2 功能模块设计 【思路：拆分 “若依基础支撑模块” 与 “新增媒体服务模块”，使用 UML 组件图 / 类图说明模块间依赖、接口协议及扩展点，突出如何复用原有权限、日志、监控能力】

   4.3 技术架构适配方案 【思路：设计若依框架扩展点，定义媒体服务与若依后端的 SIP/HTTP 信令交互协议，配套顺序图或时序表，解释网关、认证、容错策略以及与 WVP 的耦合/解耦关系】
5. 数据库设计

   5.1 数据库模型设计 【思路：用 ER 图体现 “若依权限表 - WVP 业务表” 关联逻辑，补充实体、关系、基数与约束描述，重点展示权限 - 业务数据关联模型及其对访问控制的支撑】

   5.2 核心表结构设计 【思路：分类列出若依核心表（sys\_user/sys\_role）、WVP 业务扩展表（wvp\_device/wvp\_stream），补充字段设计 rationale（主键、索引、分区策略）、触发器/视图需求，并说明通过 sys\_role\_device 实现用户 - 角色 - 设备权限控制的完整流程】

   5.3 数据访问设计 【思路：遵循若依 Mapper 接口规范，结合 Redis 缓存设备状态与消息队列异步通知，描述 DAO/Service/缓存一致性策略及读写分离方案，适配二次开发的高并发数据访问需求】
6. 详细设计与功能实现（论文核心）

   6.1 开发环境搭建与框架整合 【思路：详细说明若依前后端项目初始化、数据库脚本导入、WVP 依赖引入、ZLMediaKit 部署等步骤，配合环境表格、版本依赖说明与问题记录，体现基础整合过程】

   6.2 业务模块创建与集成 【思路：说明在若依 Maven 结构中创建 ruoyi-wvp 子模块，通过 pom.xml 依赖集成到 ruoyi-admin 的实现逻辑，给出模块目录结构、关键配置、与原生模块的调用关系与安全边界】

   6.3 代码生成器应用与定制 【思路：讲清利用若依代码生成器生成 wvp\_\* 表相关代码（实体 / Mapper / 前端组件），展示模板配置、生成结果截图，并说明 API 路径修改、参数校验、国际化、前端表单验证等定制工作】

   6.4 核心业务流程实现 【思路：结合序列图分析设备注册 / 视频预览等核心流程，明确若依原生处理步骤（用户认证 / 日志 / 权限）与 WVP 新增步骤（SIP 信令 / 流地址生成 / 播放器分发），附关键代码片段、异常处理策略与性能优化】

   6.5 关键功能界面实现 【思路：展示设备管理界面复用若依表格组件、视频监控界面自定义播放器集成的设计思路，说明 UI/UX 统一手段（主题、权限控制、操作日志），并附界面原型/截图与交互流程】
7. 系统部署与验证

   7.1 部署环境配置 【思路：列出硬件/软件清单，提供 Docker-Compose/脚本配置片段，标注端口、协议、带宽需求及安全策略，说明与开发环境的差异，适配已完成的系统部署成果】

   7.2 部署流程与问题解决 【思路：按步骤说明服务编排顺序，记录协议穿透、端口冲突、证书配置、容器编排等部署坑点，附日志截屏及解决方案，体现工程实践能力】

   7.3 部署成果验证 【思路：定义验证指标（服务存活率、流接入成功率、告警响应时间等），说明使用的脚本/监控面板，验证若依 + WVP 整合后的基础功能可用性，并包含问题复现与回归记录】
8. 软件测试

   8.1 测试方案设计 【思路：确定测试环境与工具，划分功能 / 性能 / 兼容性 / 安全性测试范围，分别覆盖若依原生与新增流媒体功能；给出测试指标、判定标准与自动化脚本计划】

   8.2 测试用例设计与执行 【思路：列出覆盖率统计、代表性用例表（登录、权限控制、菜单、设备管理、视频预览、异常告警），说明执行过程、工具、日志记录方式与失败用例定位方法，确保集成稳定性】

   8.3 测试结果分析 【思路：统计功能测试通过率，分析性能指标（并发 / 延迟 / 带宽 / 资源占用），结合图表展示结果；列出缺陷清单、严重级别、修复策略及回归验证情况】
9. 结束语

   9.1 研究成果总结 【思路：回顾 “基于若依框架，通过模块创建、代码生成、深度定制集成流媒体服务” 的完整过程，量化关键成果（模块数、性能提升、测试通过率），并与研究目标对照】

   9.2 系统局限性分析 【思路：指出若依原生 UI 与流媒体播放界面风格统一、实时流媒体对网络质量敏感、单体部署伸缩性有限等问题，结合数据或案例支撑】

   9.3 未来优化展望 【思路：提出基于 RuoYi-Cloud 进行微服务拆分、引入边缘计算节点、增强 AI 智能分析等方向，说明潜在价值与实施路线】

参考文献 【思路：按学校规范列出若依官方文档、WVP 开发手册、GB28181 协议标准及相关论文，正文中应有对应引用编号，确保可查】

附录 【思路：附录 A 放核心代码（设备注册接口 / SQL）、附录 B 放部署脚本与配置文件、附录 C 放系统界面/监控截图，并提供索引说明，佐证开发成果】

附录 A 核心代码片段

附录 B 部署配置文件

附录 C 系统截图

致谢
